## 2024-08-02 : You Don't Know JS

범위 : 1.3.3 모든 코드가 JS인 것은 아닙니다 ~ 1.5.2 간극을 메우기 위한 방법 찾기

<br />

### JavaScript는 다중 패러다임 언어

패러다임은 옳고 그름이 없습니다. 

패러다임은 개발자가 문제와 해결책에 접근하는 방법과 코드를 구성하고 유지보수 방법을 안내하는 표지판 같은 역할을 할 뿐입니다. 

특정 패러다임에 치우친 언어들도 있지만,
상당수의 언어는 여러 패러다임을 사용해 코드를 구조화할 수 있도록 지원합니다. 

이런 언어를 다중 패러다임 언어 라고 부릅니다. 

JS는 다중 패러다임 언어라 절차적, 객체 지향, 함수형 스타일 코드를 모두 작성할 수 있습니다. 

<br />

---

<br />

### JS는 하위 호환성 보장, HTML/CSS는 상위 호환성 보장

JS를 지탱하는 기본 원칙 중 하나는 하위 호환성 보장입니다.

하위 호환성이란 단 한 번이라도 유효한 JS문법이라고 인정되면 명세서가 변경되더라도 절대 그 유효성이 깨지지 않는다는 의미입니다. 

예를들어 1995년에 작성한 코드가 시간이 흘러도 무조건 작동한다는 걸 보장받습니다.

TC39 구성원중에서 “우리는 웹을 절대 망가트리지 않는다!” 라고 주장하는데,     
이 말은 하위호환성 덕분에 가능합니다. 

<br />

반대로 HTML과 CSS는 JS와 달리 상위 호환성을 보장하지만 하위 호환성을 보장하지 않습니다.

1995년에 작성된 html을 어디선가 찾아냈다면 그 코드는 오늘날에 작동하지 않을 수도 있습니다.

근데 특이한 점은 2010년에 만들어진 브라우저에서 2019년에 추가된 기능을 사용할 때 웹 페이지가 망가지지는 않습니다. 

브라우저가 자동으로 인식이 불가능한 html/css는 건너뛰고 인식 가능한 html/css는 명세서에 따라 처리하기 때문입니다. 

브라우저가 똑똑이 역할을 해줌✨

<br />

---

<br />

### 트랜스파일러 Babel은 상위 호환성 문제를 해결해준다.

명세서에 새롭게 추가되었지만 구 엔진과 호환되지 않는 문법은 **트랜스파일(컴파일)**을 통해 호환성 문제를 해결할 수 있습니다. 

트랜스파일은 **한 형태에서 다른 형태로 소스 코드를 변환**해주는 것을 의미합니다.

상위 호환성으로 인해 발생하는 문제 대부분은 트랜스파일러를 사용하여 해결되고

트랜스파일러는 **새로운 JS문법을 오래된 문법으로 바꿔주는데** 주로 **Babel**을 사용합니다. 

프로덕선 환경에 배포할 때는 이처럼 트랜스파일러를 거친 산출물 js파일을 배포합니다!

<br />

---

<br />

### Polyfill(폴리필)

업무를 진행하면서 늘 코드에서도 봤었는데 막상 사용을 하지 않아서 그냥 지나치는 경우가 많았던 것 같다.. 어떤 경우에 쓰이는건지 잘 몰랐다.

만약 아직 지원하지 않는 api 메서드 때문에 문제가 발생했다면,     
메서드 정의를 추가해 이 메서드가 오래된 환경에도 있었던 것처럼 해주는 방법이 일반적인 해결책입니다. 

이런 패턴을 폴리필(polyfill) 이라고 합니다. 

바벨과 같은 트랜스파일러는 개발자가 작성한 코드 중 폴리필이 필요한 코드를 찾아내고 **자동으로 폴리필을 추가**합니다.

바벨에서 처리를 해주는데도 개발자가 별도로 폴리필을 추가해야 하는 경우가 존재하기도한다.

트랜스파일이나 폴리필은 오래된 환경이나 애플리케이션, JS 최신 기능 이  둘 사이의 간극을 메꾸는 가교 역할을 합니다.

<br />

근데 헷갈리는 부분....🤔

바벨도 새로운 문법을 오래된 문법으로 바꿔주는 것이고, 바벨에서 폴리필이 필요하면 처리도 해준다고 했다!

폴리필도 새로운 문법을 오래된 환경에 적용되도록 해주는 것이다!

두개의 명확한 차이가 뭘까? 라는 생각이 들어서 명확한 차이점을 찾아보았습니다.

- 바벨은 최신 ES6+문법을 ES5로 바꾸어 주는 것입니다.

- ployfill은 브라우저가 이해할 수 없는 코드에 대하여 이해할 수 있는 코드 소스를 제공하는 것입니다.

- 바벨이 전역 객체(ex. window.Object, window.Array)에 존재하지 않는 객체, 메서드, 함수는 바벨이 컴파일해줄 수가 없고 폴리필이 필요합니다.

바벨은 문법을 기준으로 변경해주고 폴리필은 브라우저 환경을 기준으로 반영이 되는 것 같다.

<br />

---

<br />

요약 정리 해보자면!!

- JS는 다중 패러다임 언어이다.

- 다중 패러다임 언어이기 때문에 절차적, 객체 지향, 함수형 스타일 코드를 모두 작성할 수 있습니다.

- JS는 하위 호환성이 보장되고 HTML/CSS는 반대로 상위 호환성이 보장됩니다.

- 쉽게 설명하자면 JS문법은 사용해도 돼! 라고 인정된다면 명세서 변경되도라도 계속 사용할 수 있는 것입니다.

- 구 엔진과 호환되지 않는 문법은 트랜스파일을 통해 호환성 문제를 해결할 수 있습니다.

- 트랜스파일러 Babel을 사용해서 새로운 JS문법을 오래된 문법으로 바꿔줍니다.

- 바벨이 컴파일해줄 수 없는 전역 객체의 경우 폴리필로 오래된 환경에 적용되도록 해줍니다.